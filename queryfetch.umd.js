!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("queryfetch",e):r.queryfetch=e()}(this,function(){"use strict";var r=function(r){this.src=r};r.prototype.serialize=function(r,e){var t=this,n=Object.keys(r||this.src),s=n.map(function(r){var n=t.src[r],s=e?e+"["+r+"]":r;return n instanceof Object?t.serialize(n,s):[s,n].map(encodeURIComponent).join("=")});return s.join("&")},r.prototype.parse=function(){var r={},e=this.src.startsWith("?")?this.src.substr(1):this.src,t=e.replace(/(;+|&+)/g,"&").split("&");return t.forEach(function(e){var t=e.split("=").map(decodeURIComponent),n=t[0],s=t[1];if(!n)return 0;if(s=s?isNaN(s)?s:new Number(s).valueOf():null,!n.includes("["))return r[n]=r.hasOwnProperty(n)?Array.isArray(r[n])?r[n].push(s):[r[n],s]:s;var o=n.split("["),i=o[0],a=o[1],c=a?a.replace("]",""):0,u=!isNaN(c),f=c?u?parseInt(c):c:0;return r[i]=r.hasOwnProperty(i)?r[i]:u?[]:{},f?r[i][f]=s:r[i].push(s)}),r},r.prototype.form=function r(){var e=this;if("undefined"==typeof FormData)return console.error("FormData not supported");if(this.src instanceof FormData)return this.src;if("undefined"!=typeof HTMLFormElement&&this.src instanceof HTMLFormElement)return new FormData(this.src);if(this.src instanceof Object){var r=new FormData;try{for(var t in e.src)e.src.hasOwnProperty(t)&&r.append(t,e.src[t])}catch(r){console.error(r.message)}return r}return this.src};var e=function(e){return new r(e)};return e});

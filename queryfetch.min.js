!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("queryfetch",r):e.queryfetch=r()}(this,function(){"use strict";var e={};return e.serialize=function(r,n){var t=Object.keys(r),o=t.map(function(t){var o=r[t],a=n?n+"["+t+"]":t;return o instanceof Object?e.serialize(o,a):[a,o].map(encodeURIComponent).join("=")});return o.join("&")},e.parse=function(e){var r={},n=e.startsWith("?")?e.substr(1):e,t=n.replace(/(;+|&+)/g,"&").split("&");return t.forEach(function(e){var n=e.split("=").map(decodeURIComponent),t=n[0],o=n[1];if(!t)return 0;if(o=o?isNaN(o)?o:new Number(o).valueOf():null,!t.includes("["))return r[t]=r.hasOwnProperty(t)?Array.isArray(r[t])?r[t].push(o):[r[t],o]:o;var a=t.split("["),i=a[0],f=a[1],s=f?f.replace("]",""):0,u=!isNaN(s),c=s?u?parseInt(s):s:0;return r[i]=r.hasOwnProperty(i)?r[i]:u?[]:{},c?r[i][c]=o:r[i].push(o)}),r},e.form=function(e){if("undefined"==typeof FormData)return console.error("FormData not supported");if(e instanceof FormData)return e;if("undefined"!=typeof HTMLFormElement&&e instanceof HTMLFormElement)return new FormData(e);if(e instanceof Object){var r=new FormData;try{for(var n in e)e.hasOwnProperty(n)&&r.append(n,e[n])}catch(e){console.error(e.message)}return r}},e});
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("queryfetch",r):e.queryfetch=r()}(this,function(){"use strict";var e={};return e.serialize=function(r,n){var t=Object.keys(r),i=t.map(function(t){var i=r[t],o=n?n+"["+t+"]":t;return i instanceof Object?e.serialize(i,o):[o,i].map(encodeURIComponent).join("=")});return i.join("&")},e.parse=function(e){var r=e.startsWith("?")?e.substr(1):e,n={};return r.replace(/(;+|&+)/g,"&").split("&").forEach(function(e){var r=e.split("=").map(decodeURIComponent),t=r[0],i=r[1];if(!t)return 0;if(i=i?isNaN(i)?i:new Number(i).valueOf():null,!t.includes("["))return n[t]=n.hasOwnProperty(t)?Array.isArray(n[t])?n[t].push(i):[n[t],i]:i;var o=t.split("["),u=o[0],a=o[1],s=a?a.replace("]",""):0,f=!isNaN(s),p=s?f?parseInt(s):s:0;return n[u]=n.hasOwnProperty(u)?n[u]:f?[]:{},p?n[u][p]=i:n[u].push(i)}),n},e});